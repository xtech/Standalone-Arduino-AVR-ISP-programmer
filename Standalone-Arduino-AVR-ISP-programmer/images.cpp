#include "optiLoader.h"

const image_t PROGMEM image_328 = {
    // Sketch name, only used for serial printing
    {"optiboot_atmega328.hex"},
    // Chip name, only used for serial printing
    {"atmega328P"},
    // Signature bytes for 328P
    0x950F,
    // Programming fuses, written before writing to flash. Fuses set to
    // zero are untouched.
    {0x3F, 0xE2, 0xD6, 0xFD}, // {lock, low, high, extended}
    // Normal fuses, written after writing to flash (but before
    // verifying). Fuses set to zero are untouched.
    {0x0F, 0x0, 0x0, 0x0}, // {lock, low, high, extended}
    // Fuse verify mask. Any bits set to zero in these values are
    // ignored while verifying the fuses after writing them. All (and
    // only) bits that are unused for this atmega chip should be zero
    // here.
    {0x3F, 0xE2, 0xD6, 0xFD}, // {lock, low, high, extended}
    // size of chip flash in bytes
    32768,
    // size in bytes of flash page
    128,
    // The actual image to flash. This can be copy-pasted as-is from a
    // .hex file. If you do, replace all lines below starting with a
    // colon, but make sure to keep the start and end markers {R"( and
    // )"} in place.
    {R"(
:100000000C9462000C948A000C948A000C948A0070
:100010000C948A000C948A000C948A000C948A0038
:100020000C948A000C948A000C948A000C948A0028
:100030000C948A000C948A000C948A000C948A0018
:100040000C94D3020C948A000C940A020C943C0287
:100050000C948A000C948A000C948A000C948A00F8
:100060000C948A000C948A0000000009000302002E
:10007000000405080000000000000000000000016E
:10008000020408102040800102040810200102042C
:100090000810204080400404040404040404020204
:1000A000020202020303030303030202030000002F
:1000B00000250028002B0000000000240027002A53
:1000C00000006C0211241FBECFEFD8E0DEBFCDBF11
:1000D00011E0A0E0B1E0E8E0F9E002C005900D9287
:1000E000A031B107D9F721E0A0E1B1E001C01D9234
:1000F000A73BB207E1F710E0C2E6D0E004C02197C9
:10010000FE010E947C04C136D107C9F70E94C402D7
:100110000C9482040C9400001092100168EE73E0BD
:1001200080E090E00E944E0361E084E10E94EE03D3
:1001300061E088E00E94EE0361E088E00E942A040A
:1001400026E040E056E960E070E081E191E00C9447
:10015000AA01CF93DF93C0E0DFE381E191E00E9449
:10016000E400892BF9F081E191E00E94FE008032E9
:1001700031F08033A1F481E080931001EECF8091C3
:100180001001882361F061E084E10E942A04F89460
:100190001092B0001092800014BCFE0109951092DC
:1001A0001001DBCF0E941D03DC01CB0125E0B695D9
:1001B000A795979587952A95D1F7682F617084E167
:1001C000DF91CF910C942A04FC01918D228D892F0F
:1001D00090E0805C9F4F821B91098F73992708954F
:1001E000FC01918D828D981731F0828DE80FF11D01
:1001F000858D90E008958FEF9FEF0895FC01918D1C
:10020000828D981761F0828DDF01A80FB11D5D9678
:100210008C91928D9F5F9F73928F90E008958FEFE6
:100220009FEF089582E692E0892B49F080E090E00C
:10023000892B29F00E94620281110C94000008951C
:10024000FC01848DDF01A80FB11DA35ABF4F2C9173
:10025000848D90E001968F739927848FA689B78942
:100260002C93A089B1898C9180648C93938D848D1B
:10027000981306C00288F389E02D80818F7D8083EA
:100280000895EF92FF920F931F93CF93DF93EC01AA
:1002900081E0888F9B8D8C8D981305C0E889F98942
:1002A000808185FD24C0F62E0B8D10E00F5F1F4F5F
:1002B0000F731127E02E8C8DE8120CC00FB607FCCF
:1002C000FACFE889F989808185FFF5CFCE010E94B8
:1002D0002001F1CF8B8DFE01E80FF11DE35AFF4F96
:1002E000F0820B8FEA89FB898081806207C0EE89EA
:1002F000FF896083E889F98980818064808381E057
:1003000090E0DF91CF911F910F91FF90EF900895B2
:10031000CF93DF93EC01888D8823C9F0EA89FB89AC
:10032000808185FD05C0A889B9898C9186FD0FC0A3
:100330000FB607FCF5CF808185FFF2CFA889B98978
:100340008C9185FFEDCFCE010E942001E7CFDF9198
:10035000CF910895CF92DF92EF92FF921F93CF93A8
:10036000DF93EC016A017B01122F60E874E88EE1F3
:1003700090E0A70196010E945A04DA01C901019791
:10038000A109B109B695A795979587959C01E8892C
:10039000F98982E08083211580E13807A8F0E88997
:1003A000F989108260E472E48FE090E0A701960181
:1003B0000E945A04DA01C9010197A109B109B69551
:1003C000A795979587959C01EC85FD853083EE85F3
:1003D000FF852083188EEC89FD891083EA89FB89CB
:1003E000808180618083EA89FB8980818860808345
:1003F000EA89FB89808180688083EA89FB89808122
:100400008F7D8083DF91CF911F91FF90EF90DF90E0
:10041000CF9008951F920F920FB60F9211242F9331
:100420008F939F93EF93FF93E0912101F09122012D
:100430008081E0912701F091280182FD12C0908116
:1004400080912A018F5F8F7320912B01821751F0C9
:10045000E0912A01F0E0EF5EFE4F958F80932A0134
:1004600001C08081FF91EF919F918F912F910F900B
:100470000FBE0F901F9018951F920F920FB60F92FC
:1004800011242F933F934F935F936F937F938F9399
:100490009F93AF93BF93EF93FF9381E191E00E940D
:1004A0002001FF91EF91BF91AF919F918F917F912B
:1004B0006F915F914F913F912F910F900FBE0F90D1
:1004C0001F90189581E191E00E94E40021E0892BC2
:1004D00009F420E0822F0895E1E1F1E01382128215
:1004E00088EE93E0A0E0B0E084839583A683B78391
:1004F00084E091E09183808385EC90E09587848708
:1005000084EC90E09787868780EC90E0918B808BDD
:1005100081EC90E0938B828B82EC90E0958B848BC6
:1005200086EC90E0978B868B118E128E138E148E34
:100530000895CF92DF92EF92FF920F931F93CF9384
:10054000DF936C017A018B01C0E0D0E0CE15DF05AE
:1005500081F0D8016D918D01D601ED91FC91019052
:10056000F081E02DC6010995892B11F02196EECF7F
:100570007E01C701DF91CF911F910F91FF90EF9006
:10058000DF90CF90089508950E948A030E94C302CD
:100590000E948C00C2E1D1E00E94A9002097E1F303
:1005A0000E941201F9CF1F920F920FB60F921124E1
:1005B0002F933F938F939F93AF93BF938091AF01FE
:1005C0009091B001A091B101B091B2013091AE0112
:1005D00026E0230F2D3720F40296A11DB11D05C082
:1005E00029E8230F0396A11DB11D2093AE0180932E
:1005F000AF019093B001A093B101B093B20180918B
:10060000B3019091B401A091B501B091B6010196EA
:10061000A11DB11D8093B3019093B401A093B501C6
:10062000B093B601BF91AF919F918F913F912F9160
:100630000F900FBE0F901F9018952FB7F8946091F0
:10064000AF017091B0018091B1019091B2012FBFC3
:1006500008953FB7F8948091B3019091B401A091AF
:10066000B501B091B60126B5A89B05C02F3F19F082
:100670000196A11DB11D3FBFBA2FA92F982F882722
:10068000820F911DA11DB11DBC01CD0143E0660F7C
:10069000771F881F991F4A95D1F708958F929F92CF
:1006A000AF92BF92CF92DF92EF92FF926B017C01EB
:1006B0000E9429034B015C01C114D104E104F1043F
:1006C00001F10E9459040E942903DC01CB01881921
:1006D0009909AA09BB09883E9340A105B10560F3B9
:1006E00021E0C21AD108E108F10888EE880E83E003
:1006F000981EA11CB11CC114D104E104F10419F726
:10070000DBCFFF90EF90DF90CF90BF90AF909F90A6
:100710008F900895789484B5826084BD84B581609B
:1007200084BD85B5826085BD85B5816085BDEEE6F9
:10073000F0E0808181608083E1E8F0E010828081D8
:1007400082608083808181608083E0E8F0E0808146
:1007500081608083E1EBF0E0808184608083E0EB66
:10076000F0E0808181608083EAE7F0E0808184604E
:10077000808380818260808380818E7F808380817E
:10078000806880831092C1000895843081F028F43D
:10079000823099F08330A1F008958830A9F0893033
:1007A000B9F08530D1F4809180008F7D03C08091B5
:1007B00080008F7780938000089584B58F7702C082
:1007C00084B58F7D84BD08958091B0008F7703C07C
:1007D0008091B0008F7D8093B0000895CF93DF9318
:1007E00090E0FC01E158FF4F2491FC01EA56FF4FD5
:1007F0008491882361F190E0880F991FFC01E954EE
:10080000FF4FC591D491FC01E355FF4FA591B491E1
:10081000611109C09FB7F89488812095822388834D
:10082000EC912E230BC0623061F49FB7F89488815D
:10083000322F309583238883EC912E2B2C939FBFEE
:1008400006C08FB7F894E8812E2B28838FBFDF91E5
:10085000CF9108951F93CF93DF93282F30E0F901B4
:10086000E859FF4F8491F901E158FF4FD491F90104
:10087000EA56FF4FC491CC23C1F0162F81110E947C
:10088000C503EC2FF0E0EE0FFF1FE355FF4FA591DE
:10089000B4919FB7F894111104C08C91D095D823CE
:1008A00002C0EC91DE2BDC939FBFDF91CF911F91B3
:1008B00008950895A1E21A2EAA1BBB1BFD010DC0CD
:1008C000AA1FBB1FEE1FFF1FA217B307E407F50700
:1008D00020F0A21BB30BE40BF50B661F771F881FDC
:1008E000991F1A9469F760957095809590959B0172
:1008F000AC01BD01CF010895EE0FFF1F0590F491EB
:08090000E02D0994F894FFCFEB
:100908000000000041019902E400FE00F0008801A7
:107E000001C0CBC0112484B7882361F0982F9A70E9
:107E1000923041F081FF02C097EF94BF282E80E09E
:107E2000A7D0EEC082E08093C00088E18093C100BB
:107E300086E08093C20089E18093C4008EE098D0F0
:107E400093E0E92EDD24D39425E0C22E31E1B32E58
:107E500083D0813461F480D0182F90D01238E9F0AB
:107E6000113811F488E001C083E06FD06BC0823418
:107E700011F484E103C0853419F485E087D062C031
:107E8000853539F469D0C82F67D0D82FCC0FDD1FC6
:107E900058C0863521F484E079D080E0E6CF84367E
:107EA00009F02DC059D058D0F82E56D0A82E00E099
:107EB00011E052D0F80181938F01FE12FACF5ED00B
:107EC000F5E4AF1201C0FFCFFE01E7BEE89507B6AB
:107ED00000FCFDCFA0E0B1E0FE018D919D910C0171
:107EE000D7BEE89511243296FA12F7CFFE01C7BE2D
:107EF000E89507B600FCFDCFB7BEE89523C08437F0
:107F000071F42AD029D0F82E27D038D08E01F8016C
:107F100085918F011AD0FA94F110F9CF13C08537EB
:107F200039F42CD08EE111D085E90FD08FE09DCFB0
:107F3000813539F480E01CD021D080E106D060C0CA
:107F400001C01CD080E101D083CF9091C00095FF8B
:107F5000FCCF8093C60008958091C00087FFFCCFBE
:107F60008091C00084FD01C0A8958091C60008954D
:107F7000E0E6F0E098E1908380830895EDDF8032C1
:107F800019F088E0F5DFFFCF84E1DFCFCF93C82F72
:107F9000E3DFC150E9F7CF91F1CFFC010A0167BFE0
:107FA000E895112407B600FCFDCF667029F0452B3B
:0A7FB00019F481E187BFE8950895F8
:027FFE00000879
:0400000300007E007B
:00000001FF
    )"}
};


/*
 * Table of defined images. The first one matching the chip's signature
 * is used.
 */
const image_t *images[] = {
  &image_328,
};

uint8_t NUMIMAGES = sizeof(images)/sizeof(images[0]);
